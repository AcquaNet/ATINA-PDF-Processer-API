# ========================================
# Email Polling Configuration
# ========================================

# Enable/disable email polling scheduler
# Default: true (enabled)
email.polling.enabled=true

email.crypt.key-base64=iRC660hR0ACDBVOhHGaz6klFpK7BlcMqVCefR18Iyz0=

# Scheduler fixed rate in milliseconds
# Default: 60000 (1 minute)
# Nota: El scheduler se ejecuta cada minuto, pero solo procesa cuentas
# cuyo pollingIntervalMinutes haya sido alcanzado
email.polling.scheduler.fixed-rate=60000

# ========================================
# Storage Configuration
# ========================================

# Default storage type for new tenants
# Values: LOCAL, S3, BOTH
storage.default.type=LOCAL

# Default base path for local storage
# Cada tenant tendrá: {basePath}/{TENANT_CODE}/process/inbounds/
storage.default.base-path=/private/tmp/process-mails

# Default template base path
storage.default.template-path=/config/templates

# ========================================
# S3 Configuration (optional)
# Solo si usas storage.type=S3 o BOTH
# ========================================

# AWS S3 credentials (if using S3)
# aws.s3.access-key=YOUR_ACCESS_KEY
# aws.s3.secret-key=YOUR_SECRET_KEY
# aws.s3.region=us-east-1
# aws.s3.bucket-name=your-bucket-name

# ========================================
# Email Processing Configuration
# ========================================

# Connection timeout for IMAP/POP3 (milliseconds)
email.connection.timeout=30000

# Read timeout for IMAP/POP3 (milliseconds)
email.read.timeout=30000

# Max attachments to process per email
# Default: 50
email.max.attachments=50

# Max file size for attachments (bytes)
# Default: 50MB
email.max.attachment.size=52428800

# ========================================
# Logging Configuration
# ========================================

# Log level for email processing
logging.level.com.atina.invoice.api.service.EmailProcessingService=INFO
logging.level.com.atina.invoice.api.service.EmailReaderService=INFO
logging.level.com.atina.invoice.api.scheduler.EmailPollingScheduler=INFO

# ========================================
# Database Configuration
# ========================================

# Hibernate properties for JSON support (PostgreSQL)
spring.jpa.properties.hibernate.type.preferred_json_mapper=jsonb

# ========================================
# Thread Pool for Async Operations
# (Para futuro: procesamiento asíncrono)
# ========================================

# spring.task.execution.pool.core-size=5
# spring.task.execution.pool.max-size=10
# spring.task.execution.pool.queue-capacity=100
